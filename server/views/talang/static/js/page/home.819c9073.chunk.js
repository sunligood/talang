(this.webpackJsonpinit=this.webpackJsonpinit||[]).push([[1],{159:function(e,t,a){},217:function(e,t,a){e.exports=a(423)},423:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(9),o=a(10),l=a(31),i=a(0),c=a.n(i),s=a(11),d=a.n(s),m=(a(159),a(51)),u=a(96),h=a(427),f=a(428),E=a(84),v=a(425),y=a(24),p=a(424),k=a(426),D=a(46),g=a(156),b=a.n(g),w=a(29),O=a.n(w),I=(a(250),a(98)),Y=a.n(I),M=u.a.Option,C=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).hideModal=function(){r.setState({visible:!1})},r.state={name:"",nameD:"",done:"",doneD:"",work:"",workD:"",visible:!1,isEdit:!1,editKey:null,orderList:[]},r.formRef=c.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.queryOrder()}},{key:"queryOrder",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||this.setState({name:"",nameD:"",done:"",doneD:"",work:"",workD:""}),Y.a.post("/order/query",t).then((function(t){e.setState({orderList:t.data.data}),h.a.success(t.data.msg)})).catch((function(e){h.a.success(e.data.msg)}))}},{key:"onFinish",value:function(e){var t=this;this.state.isEdit?(this.formRef.current.getFieldValue().done?e.done=e.done.format("YYYY-MM-DD"):e.done=O()(new Date).format("YYYY-MM-DD"),Y.a.post("/order/update",Object.assign(e,{orderID:this.state.editKey})).then((function(e){h.a.success(e.data.msg),t.queryOrder()})).catch((function(e){h.a.success(e.data.msg)})),this.setState({isEdit:!1})):(this.formRef.current.getFieldValue().done?e.done=e.done.format("YYYY-MM-DD"):e.done=O()(new Date).format("YYYY-MM-DD"),e.price=Number(e.price).toFixed(2),Y.a.post("/order/add",e).then((function(e){h.a.success(e.data.msg),t.queryOrder()})).catch((function(e){h.a.success(e.data.msg)}))),this.hideModal()}},{key:"deleteOrd",value:function(e){var t=this;Y.a.post("/order/dalete",{orderID:e}).then((function(e){h.a.success(e.data.msg),t.queryOrder()})).catch((function(e){h.a.success(e.data.msg)}))}},{key:"addOrd",value:function(){this.setState({visible:!0})}},{key:"editOrd",value:function(e,t){var a=this;this.setState({visible:!0,isEdit:!0,editKey:e.orderID}),setTimeout((function(){console.log(O()(e.done).format("YYYY-MM-DD")),a.formRef.current.setFieldsValue({name:e.name,work:e.work,done:O()(e.done),detail:e.detail,price:e.price})}),200)}},{key:"query",value:function(){var e={name:this.state.name,done:this.state.done,work:this.state.work};this.queryOrder(e)}},{key:"reset",value:function(){this.setState({name:"",nameD:"",done:"",doneD:"",work:"",workD:""}),this.queryOrder()}},{key:"render",value:function(){var e=this,t=[{title:"\u8f66\u724c\u53f7",dataIndex:"name",orderID:"name",width:120},{title:"\u4e8b\u9879",dataIndex:"work",orderID:"work",width:120},{title:"\u5b8c\u6210\u65e5\u671f",dataIndex:"done",orderID:"done",width:180},{title:"\u5de5\u4f5c\u8be6\u60c5",dataIndex:"detail",orderID:"detail"},{title:"\u64cd\u4f5c",dataIndex:"",orderID:"x",width:100,render:function(t,a){return c.a.createElement("div",null,c.a.createElement("a",{onClick:function(){return e.editOrd(t,a)},style:{marginRight:10}},"\u7f16\u8f91"),c.a.createElement(f.a,{title:"\u786e\u8ba4\u5220\u9664\u8be5\u8ba2\u5355?",onConfirm:function(){return e.deleteOrd(a.orderID)}},c.a.createElement("a",null,"\u5220\u9664")))}}];return c.a.createElement("div",{className:"order-content"},c.a.createElement("div",{className:"order-header"},c.a.createElement("div",{className:"item"},c.a.createElement(E.a,{value:this.state.nameD,placeholder:"\u8f66\u724c\u53f7",onChange:function(t){return e.setState({name:t.target.value,nameD:t.target.value})}}),c.a.createElement(v.a,{value:this.state.doneD,onChange:function(t,a){return e.setState({done:a,doneD:O()(a)})},locale:b.a,placeholder:"\u65e5\u671f",style:{marginRight:10,width:150}}),c.a.createElement(u.a,{value:this.state.workD,onChange:function(t){return e.setState({work:t,workD:t})},placeholder:"custom dropdown render",style:{width:150}},c.a.createElement(M,{value:""},"\u8bf7\u9009\u62e9"),c.a.createElement(M,{value:"\u4fdd\u517b"},"\u4fdd\u517b"),c.a.createElement(M,{value:"\u7ef4\u4fee"},"\u7ef4\u4fee"),c.a.createElement(M,{value:"\u505a\u6f06"},"\u505a\u6f06")),c.a.createElement(y.a,{onClick:function(){return e.query()},type:"primary",style:{marginLeft:10}},"\u67e5\u8be2"),c.a.createElement(y.a,{onClick:function(){return e.reset()},type:"primary",style:{marginLeft:10}},"\u91cd\u7f6e")),c.a.createElement("div",{className:"item"},c.a.createElement(y.a,{onClick:function(){return e.addOrd()},type:"primary",style:{marginLeft:10,background:"#7cb305",borderColor:"#7cb305"}},"\u6dfb\u52a0"))),c.a.createElement(p.a,{columns:t,expandable:{rowExpandable:function(e){return"Not Expandable"!==e.name}},dataSource:this.state.orderList}),c.a.createElement(k.a,{title:"\u6dfb\u52a0\u8ba2\u5355",visible:this.state.visible,onCancel:this.hideModal,destroyOnClose:!0,footer:null},c.a.createElement(D.a,{ref:this.formRef,name:"control-ref",onFinish:function(t){return e.onFinish(t)}},c.a.createElement(D.a.Item,{name:"name"},c.a.createElement(E.a,{placeholder:"\u8f66\u724c\u53f7",style:{marginBottom:20}})),c.a.createElement(D.a.Item,{name:"price"},c.a.createElement(E.a,{placeholder:"\u91d1\u989d",style:{marginBottom:20}})),c.a.createElement(D.a.Item,{name:"done"},c.a.createElement(v.a,{defaultValue:O()(),locale:b.a,placeholder:"\u65e5\u671f",style:{marginBottom:20,width:"100%"}})),c.a.createElement(D.a.Item,{name:"work"},c.a.createElement(u.a,{placeholder:"\u5de5\u4f5c\u4e8b\u9879",style:{marginBottom:20,width:"100%"}},c.a.createElement(M,{value:"\u4fdd\u517b"},"\u4fdd\u517b"),c.a.createElement(M,{value:"\u7ef4\u4fee"},"\u7ef4\u4fee"),c.a.createElement(M,{value:"\u505a\u6f06"},"\u505a\u6f06"))),c.a.createElement(D.a.Item,{name:"detail"},c.a.createElement(E.a.TextArea,{placeholder:"\u5de5\u4f5c\u8be6\u60c5"})),c.a.createElement(D.a.Item,{style:{textAlign:"right"}},c.a.createElement(y.a,{htmlType:"button",onClick:function(){return e.hideModal()}},"\u53d6\u6d88"),c.a.createElement(y.a,{type:"primary",htmlType:"submit",style:{marginLeft:20}},"\u786e\u8ba4")))))}}]),a}(i.Component),S=a(45),j=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"l"},c.a.createElement(S.a,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline"},c.a.createElement(S.a.Item,{key:"1"},"\u8ba2\u5355\u5217\u8868"))),c.a.createElement("div",{className:"r"},c.a.createElement(C,null)))}}]),a}(i.Component);d.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,null),c.a.createElement(j,null)),document.getElementById("root"))},51:function(e,t,a){"use strict";var n=a(7),r=a(9),o=a(10),l=a(31),i=a(0),c=a.n(i),s=a(45),d=(a(85),a(86),s.a.SubMenu,function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={current:"home"},e.handleClick=function(t){console.log("click ",t),e.setState({current:t.key})},e}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"comm-header"},c.a.createElement("div",{className:"wrap"},c.a.createElement("div",{className:"l"},"\u8e0f\u6d6a\u6c7d\u8f66-\u540e\u53f0\u7ba1\u7406"),c.a.createElement("div",{className:"r"})))}}]),a}(i.Component));t.a=d},86:function(e,t,a){}},[[217,4,0,7]]]);
//# sourceMappingURL=home.819c9073.chunk.js.map